{
  "variables": [],
  "info": {
    "name": "iyzipay-postman",
    "_postman_id": "826c2f08-2da5-20b7-633a-aca16410d757",
    "description": "iyzico API has been developed to support merchants with extended online payment services and can be easily integrated into existing platforms. All services are based on a stateless RESTful service architecture that requires API clients to access these services (e.g. for data marshalling / unmarshalling and PKI (public key infrastructure) encryption / decryption).\n\nSANDBOX  : sandbox-merchant.iyzipay.com\nGITHUB   : github.com/iyzico/iyzipay-php\nDEV PAGE : dev.iyzipay.com/en",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "04a51d7e-9b5f-dbf9-514a-b44455d4a390",
      "name": "Marketplace",
      "description": "Dev Page: https://dev.iyzipay.com/en/marketplace\n\n",
      "item": [
        {
          "_postman_id": "a430358c-5f69-7297-52bf-dd178356b07a",
          "name": "Approve Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var approval = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    paymentTransactionId: null",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = approval;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/item/approve",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"paymentTransactionId\": \"1\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/iyzipos/item/approve"
          },
          "response": []
        },
        {
          "_postman_id": "5a56fdcb-1c74-5e39-b955-7f06f8950402",
          "name": "Disapprove Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var approval = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    paymentTransactionId: null",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = approval;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/item/disapprove",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"paymentTransactionId\": \"1\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/iyzipos/item/disapprove"
          },
          "response": []
        },
        {
          "_postman_id": "1061f44a-eb74-8260-3dee-10b5a85a4a33",
          "name": "Create Marketplace Payment",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var paymentCard = {",
                  "    cardHolderName: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "    cvc: null,",
                  "    registerCard: null,",
                  "    cardAlias: null,",
                  "    cardToken: null,",
                  "    cardUserKey: null",
                  "};",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "",
                  "var payment = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    paidPrice: null,",
                  "    installment: null,",
                  "    paymentChannel: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    paymentCard: paymentCard,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    currency: null,",
                  "    ",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = payment;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/auth",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.1\",\n    \"currency\": \"TRY\",\n    \"installment\": 1,\n    \"paymentChannel\": \"WEB\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"paymentCard\": {\n        \"cardHolderName\": \"John Doe\",\n        \"cardNumber\": \"5528790000000008\",\n        \"expireYear\": \"2030\",\n        \"expireMonth\": \"12\",\n        \"cvc\": \"123\",\n        \"registerCard\": 0\n    },\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.2\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.3\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.1\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/auth"
          },
          "response": []
        },
        {
          "_postman_id": "91f6ca4a-4975-a218-5d59-2938d48a268b",
          "name": "Initialize Marketplace Checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "var enabledInstallments = [];",
                  "",
                  "var initializeCheckout = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    installment: null,",
                  "    paymentChannel: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    paymentCard: paymentCard,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    callbackUrl:null,",
                  "    paymentSource:null,",
                  "    currency: null,",
                  "    paidPrice: null,",
                  "    forceThreeDS:null,",
                  "    cardUserKey: null,",
                  "    enabledInstallments:enabledInstallments",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializeCheckout;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/checkoutform/initialize/auth/ecom",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.2\",\n    \"currency\": \"TRY\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"enabledInstallments\": [\n        1,\n        2,\n        3,\n        6,\n        9\n    ],\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.1\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.1\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"name\": \"Usb\",\n            \"price\": \"0.2\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\",\n            \"subMerchantKey\":\"DuZbKGwz5pr+uBPlMdG1h5Q3E8=\",\n            \"subMerchantPrice\":\"0.1\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/iyzipos/checkoutform/initialize/auth/ecom"
          },
          "response": []
        },
        {
          "_postman_id": "01fbba4e-10bb-5ac6-e744-daa7db39d57d",
          "name": "Create Personal Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"John's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n    \"iban\": \"TR180006200119000006672315\",\n    \"contactName\": \"John\",\n    \"contactSurname\": \"Doe\",\n    \"currency\": \"TRY\",\n    \"subMerchantExternalId\": \"B49224\",\n    \"identityNumber\": \"1234567890\",\n    \"subMerchantType\": \"PERSONAL\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        },
        {
          "_postman_id": "357bb5c6-10f7-66ce-531a-b28c2e561c3d",
          "name": "Create Private Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"John's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n    \"iban\": \"TR180006200119000006672315\",\n    \"taxOffice\": \"Tax office\",\n    \"legalCompanyTitle\": \"John Doe inc\",\n    \"currency\": \"TRY\",\n    \"subMerchantExternalId\": \"S49222\",\n    \"identityNumber\": \"31300864726\",\n    \"subMerchantType\": \"PRIVATE_COMPANY\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        },
        {
          "_postman_id": "28cdce42-ac76-15b5-900d-fce747633aa9",
          "name": "Create Company Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"John's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n    \"iban\": \"TR180006200119000006672315\",\n    \"taxOffice\": \"Tax office\",\n    \"legalCompanyTitle\": \"XYZ inc\",\n    \"currency\": \"TRY\",\n    \"subMerchantExternalId\": \"AS49224\",\n    \"taxNumber\": \"9261877\",\n    \"subMerchantType\": \"LIMITED_OR_JOINT_STOCK_COMPANY\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        },
        {
          "_postman_id": "4b95ff8b-1957-047a-ad8b-f35221e43000",
          "name": "Retrieve Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant/detail",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"subMerchantExternalId\": \"S49222\"\n}\n"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant/detail"
          },
          "response": []
        },
        {
          "_postman_id": "f9e3e21f-1179-c913-0168-352838343ca6",
          "name": "Update Personal Submerchant copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"Jane's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1 \",\n    \"iban\": \"TR630006200027700006678204\",\n    \"contactName\": \"Jane\",\n    \"contactSurname\": \"Doe\",\n    \"currency\": \"TRY\",\n    \"subMerchantKey\": \"ISJcSPg1T2TRCA3e8ErmQK/xntY=\",\n    \"identityNumber\": \"31300864726\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        },
        {
          "_postman_id": "8213a248-97be-57e1-bc41-cfaf981020e0",
          "name": "Update Private Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"Jane's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n    \"iban\": \"TR180006200119000006672315\",\n    \"taxOffice\": \"Tax office\",\n    \"legalCompanyTitle\": \"Jane Doe inc\",\n    \"currency\": \"TRY\",\n    \"subMerchantKey\": \"PPFFZPedVQSvaOqZu5xpvpLEqmc=\",\n    \"identityNumber\": \"31300864726\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        },
        {
          "_postman_id": "120c1ca6-f827-cf3c-056d-c5c9faeac03b",
          "name": "Update Company Submerchant",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = environment.apiKey;",
                  "var secretKey = environment.secretKey;",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var subMerchant = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    name: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    address: null,",
                  "    iban: null,",
                  "    taxOffice: null,",
                  "    contactName: null,",
                  "    contactSurname: null,",
                  "    legalCompanyTitle: null,",
                  "    swiftCode: null,",
                  "    currency: null,",
                  "    subMerchantKey: null,",
                  "    subMerchantExternalId: null,",
                  "    identityNumber: null,",
                  "    taxNumber: null,",
                  "    subMerchantType: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = subMerchant;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/onboarding/submerchant",
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"name\": \"Jane's market\",\n    \"email\": \"email@submerchantemail.com\",\n    \"gsmNumber\": \"+905350000000\",\n    \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n    \"iban\": \"TR180006200119000006672315\",\n    \"taxOffice\": \"Tax office\",\n    \"legalCompanyTitle\": \"ABC inc\",\n    \"currency\": \"TRY\",\n    \"subMerchantKey\": \"jsLbNEUu8XOKyxLdqqqqHUuu9bQ=\",\n    \"taxNumber\": \"9261877\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/onboarding/submerchant"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "08bf43b3-8a42-7856-231d-502de6675e85",
      "name": "Pecco",
      "description": "",
      "item": [
        {
          "_postman_id": "3be93753-17df-2e59-a59a-df4d1d90f4b4",
          "name": "Initialize Pecco",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "",
                  "var initializePecco = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    callbackUrl:null,",
                  "    paymentSource:null,",
                  "    paidPrice:null",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializePecco;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/pecco/initialize",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\":\"1.2\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/pecco/initialize"
          },
          "response": []
        },
        {
          "_postman_id": "6752aa4e-40ad-6e67-7969-5514bccbe8d0",
          "name": "Create Pecco",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var peccoPayment = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    token: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = peccoPayment;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/pecco/auth",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"token\": \"d9a1d90e-7cfb-4ead-a6ec-34237bac04f0\"\n}\n"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/pecco/auth"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "11b1e188-6f25-fa64-892b-7cf835b0d480",
      "name": "Instant onboarding",
      "description": "",
      "item": []
    },
    {
      "_postman_id": "50b54f2c-2af9-80d9-2b55-c771e7574259",
      "name": "APM",
      "description": "",
      "item": [
        {
          "_postman_id": "b09f5815-e303-8660-3241-1536f1baaf4a",
          "name": "Initialize APM",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "var enabledInstallments = [];",
                  "",
                  "var initializeApm = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    paidPrice: null,",
                  "    paymentChannel: null,",
                  "    paymentGroup: null,",
                  "    paymentSource:null,",
                  "    currency: null,",
                  "    merchantOrderId: null,",
                  "    countryCode:null,",
                  "    accountHolderName:null,",
                  "    merchantCallbackUrl:null,",
                  "    merchantErrorUrl:null,",
                  "    merchantNotificationUrl:null,",
                  "    apmType:null,",
                  "    basketId: null,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializeApm;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/apm/initialize",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.2\",\n    \"currency\": \"TRY\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"enabledInstallments\": [\n        1,\n        2,\n        3,\n        6,\n        9,\n        12\n    ],\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"name\": \"Usb\",\n            \"price\": \"0.2\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": ""
          },
          "response": []
        },
        {
          "_postman_id": "5430ee57-ca16-74cc-b664-fb0afff3773e",
          "name": "Retrieve Checkout Form Result copy",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var checkoutForm = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    token: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = checkoutForm;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/checkoutform/auth/ecom/detail",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"token\": \"d9a1d90e-7cfb-4ead-a6ec-34237bac04f0\"\n}\n"
            },
            "description": "Dev Page : https://dev.iyzipay.com/en/checkout-form/retrieve"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "8682ee2c-f95f-6023-be67-2090996b950b",
      "name": "Card Register",
      "description": "",
      "item": [
        {
          "_postman_id": "5a33ae4e-7e4e-fc4e-a7da-7aed5bbb021a",
          "name": "Create User And Add Card",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var cardInformation = {",
                  "    cardAlias: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "};",
                  "",
                  "var card = {",
                  "    locale:null,",
                  "    conversationId:null,",
                  "    externalId: null,",
                  "    email: null,",
                  "    cardUserKey: null,",
                  "    card: cardInformation",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = card;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/cardstorage/card",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"externalId\": \"external id\",\n    \"email\": \"email@email.com\",\n    \"card\": {\n        \"cardAlias\": \"card alias\",\n        \"cardNumber\": \"5528790000000008\",\n        \"expireYear\": \"2030\",\n        \"expireMonth\": \"12\",\n        \"cardHolderName\": \"John Doe\"\n    }\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/cardstorage/card"
          },
          "response": []
        },
        {
          "_postman_id": "3a815d57-f4e9-8386-a8ad-8250e8624d2e",
          "name": "Create Card",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var cardInformation = {",
                  "    cardAlias: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "};",
                  "",
                  "var card = {",
                  "    locale:null,",
                  "    conversationId:null,",
                  "    externalId: null,",
                  "    email: null,",
                  "    cardUserKey: null,",
                  "    card: cardInformation",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = card;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);"
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/cardstorage/card",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"cardUserKey\": \"W2OM/ZUXAn0qCepxpa5Taz89lV0=\",\n    \"card\": {\n        \"cardAlias\": \"card alias\",\n        \"cardNumber\": \"5528790000000008\",\n        \"expireYear\": \"2030\",\n        \"expireMonth\": \"12\",\n        \"cardHolderName\": \"John Doe\"\n    }\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/cardstorage/card"
          },
          "response": []
        },
        {
          "_postman_id": "26e8358d-868b-38cd-ec12-d323a4226642",
          "name": "Delete Card",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var cardInformation = {",
                  "    cardAlias: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "};",
                  "",
                  "var card = {",
                  "    locale:null,",
                  "    conversationId:null,",
                  "    externalId: null,",
                  "    email: null,",
                  "    cardUserKey: null,",
                  "    card: cardInformation",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = card;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);"
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/cardstorage/card",
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"cardUserKey\": \"W2OM/ZUXAn0qCepxpa5Taz89lV0=\",\n    \"cardToken\": \"DAx+xnNEwm/4scO+ih7rOsM+4jo=\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/cardstorage/card"
          },
          "response": []
        },
        {
          "_postman_id": "0e03bd9d-5c4f-4973-b559-257cbeb82e7c",
          "name": "Retrieve Cards",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var cardInformation = {",
                  "    cardAlias: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "};",
                  "",
                  "var card = {",
                  "    locale:null,",
                  "    conversationId:null,",
                  "    externalId: null,",
                  "    email: null,",
                  "    cardUserKey: null,",
                  "    card: cardInformation",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = card;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);"
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/cardstorage/card",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"cardUserKey\": \"W2OM/ZUXAn0qCepxpa5Taz89lV0=\"\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/cardstorage/card"
          },
          "response": []
        },
        {
          "_postman_id": "2123adc5-eb9c-6052-374d-913b50f8cf66",
          "name": "Create Payment with Registered card",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var paymentCard = {",
                  "    cardHolderName: null,",
                  "    cardNumber: null,",
                  "    expireYear: null,",
                  "    expireMonth: null,",
                  "    cvc: null,",
                  "    registerCard: null,",
                  "    cardAlias: null,",
                  "    cardToken: null,",
                  "    cardUserKey: null",
                  "};",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "",
                  "var payment = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    paidPrice: null,",
                  "    installment: null,",
                  "    paymentChannel: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    paymentCard: paymentCard,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    currency: null,",
                  "    ",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = payment;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/auth",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.1\",\n    \"currency\": \"TRY\",\n    \"installment\": 1,\n    \"paymentChannel\": \"WEB\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"paymentCard\": {\n        \"cardUserKey\": \"card user key\",\n        \"cardToken\": \"card token\"\n    },\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/auth"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "9ad01c60-f2b3-f50c-509c-bac3f56844bf",
      "name": "BKM",
      "description": "BKM Expres",
      "item": [
        {
          "_postman_id": "3a517a27-7a12-1207-ea71-32c9e9228d72",
          "name": "Initialize Bkm",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "var enabledInstallments = [];",
                  "",
                  "var initializeBkm = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    callbackUrl:null,",
                  "    paymentSource:null,",
                  "    enabledInstallments:enabledInstallments",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializeBkm;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/bkm/initialize",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/bkm/initialize"
          },
          "response": []
        },
        {
          "_postman_id": "e292657d-a792-6af8-aff9-9db210c77b60",
          "name": "Retrieve Bkm Result",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var bkm = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    token: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = bkm;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/bkm/auth/detail",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"token\": \"d9a1d90e-7cfb-4ead-a6ec-34237bac04f0\"\n}\n"
            },
            "description": "https://sandbox-api.iyzipay.com//\npayment/bkm/auth/detail"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "d4943a4b-f7a9-bf3a-aad4-59ac561133f3",
      "name": "iyzico Checkout Form",
      "description": "Dev Page: https://dev.iyzipay.com/en/checkout-form",
      "item": [
        {
          "_postman_id": "ea4ebb8c-9ec2-02c0-0c33-705196e4d413",
          "name": "Initialize Checkout",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "var enabledInstallments = [];",
                  "",
                  "var initializeCheckout = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    installment: null,",
                  "    paymentChannel: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    callbackUrl:null,",
                  "    paymentSource:null,",
                  "    currency: null,",
                  "    paidPrice: null,",
                  "    forceThreeDS:null,",
                  "    cardUserKey: null,",
                  "    enabledInstallments:enabledInstallments,",
                  "    enabledCardFamily: null",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializeCheckout;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/checkoutform/initialize/auth/ecom",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.2\",\n    \"currency\": \"TRY\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"enabledInstallments\": [\n        1,\n        2,\n        3,\n        6,\n        9,\n        12\n    ],\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"name\": \"Usb\",\n            \"price\": \"0.2\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": "Dev Page : https://dev.iyzipay.com/en/checkout-form/initialize"
          },
          "response": []
        },
        {
          "_postman_id": "ce72ad76-94e5-a783-1542-5ffccf9b9b8d",
          "name": "Retrieve Checkout Form Result",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var checkoutForm = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    token: null,",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = checkoutForm;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/checkoutform/auth/ecom/detail",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"token\": \"d9a1d90e-7cfb-4ead-a6ec-34237bac04f0\"\n}\n"
            },
            "description": "Dev Page : https://dev.iyzipay.com/en/checkout-form/retrieve"
          },
          "response": []
        },
        {
          "_postman_id": "59237e53-b3a9-4170-eb8c-28b9c90a9cc7",
          "name": "Initialize Checkout with Card User Key",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
                  "",
                  "tests[\"pki string: \" + globals.pkiString ] = true",
                  "tests[\"authorization: \" + globals.authorization ] = true",
                  "tests[\"json: \" + request.data ] = true",
                  "",
                  "",
                  "",
                  ""
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "var apiKey = globals.apiKey",
                  "var secretKey = globals.secretKey",
                  "",
                  "//import crypto-js sha1",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
                  "function()",
                  "{});",
                  "//import crypto-js base64",
                  "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
                  "function()",
                  "{});",
                  "",
                  "var buyer = {",
                  "    id: null,",
                  "    name: null,",
                  "    surname: null,",
                  "    identityNumber: null,",
                  "    email: null,",
                  "    gsmNumber: null,",
                  "    registrationDate: null,",
                  "    lastLoginDate: null,",
                  "    registrationAddress: null,",
                  "    city: null,",
                  "    country: null,",
                  "    zipCode: null,",
                  "    ip: null",
                  "};",
                  "",
                  "var shippingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var billingAddress = {",
                  "    address: null,",
                  "    zipCode: null,",
                  "    contactName: null,",
                  "    city: null,",
                  "    country: null",
                  "};",
                  "",
                  "var basketItem = {",
                  "    id: null,",
                  "    price: null,",
                  "    name: null,",
                  "    category1: null,",
                  "    category2: null,",
                  "    itemType: null,",
                  "    subMerchantKey:null,",
                  "    subMerchantPrice: null",
                  "};",
                  "",
                  "function BasketItem() {",
                  "    this.id= null;",
                  "    this.price= null;",
                  "    this.name=null;",
                  "    this.category1= null;",
                  "    this.category2= null;",
                  "    this.itemType=null,",
                  "    this.subMerchantKey=null;",
                  "    this.subMerchantPrice= null;",
                  "}",
                  "",
                  "var basketItems = [];",
                  "var enabledInstallments = [];",
                  "",
                  "var initializeCheckout = {",
                  "    locale: null,",
                  "    conversationId: null,",
                  "    price: null,",
                  "    installment: null,",
                  "    paymentChannel: null,",
                  "    basketId: null,",
                  "    paymentGroup: null,",
                  "    buyer: buyer,",
                  "    shippingAddress: shippingAddress,",
                  "    billingAddress: billingAddress,",
                  "    basketItems: basketItems,",
                  "    callbackUrl:null,",
                  "    paymentSource:null,",
                  "    currency: null,",
                  "    paidPrice: null,",
                  "    forceThreeDS:null,",
                  "    cardUserKey: null,",
                  "    enabledInstallments:enabledInstallments",
                  "};",
                  "",
                  "function nullClear(obj){",
                  "    for (var member in obj) {",
                  "        ",
                  "        if(obj[member] === null) {    ",
                  "            delete obj[member];",
                  "        }",
                  "        else if (typeof obj[member] === 'object'){",
                  "            obj[member]=nullClear(obj[member]);",
                  "            if(Object.keys(obj[member]).length===0){",
                  "                delete obj[member];",
                  "            }",
                  "        }",
                  "    }",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//Set json string to model",
                  "function jsonToObj(jsonString, obj) {",
                  "    var parsedJsonString = JSON.parse(jsonString)",
                  "    for(var key in parsedJsonString) {",
                  "        if(parsedJsonString.hasOwnProperty(key)) {",
                  "            if (typeof parsedJsonString[key] === 'object') {",
                  "                if(Array.isArray(parsedJsonString[key])){",
                  "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
                  "                        if(key ==\"basketItems\"){",
                  "                            obj[key].push(new BasketItem());",
                  "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
                  "                        }else {",
                  "                            obj[key][i] = parsedJsonString[key][i];",
                  "                        }",
                  "                    }",
                  "                }else{",
                  "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
                  "                }",
                  "            }else{",
                  "                obj[key] = parsedJsonString[key];",
                  "            }",
                  "            ",
                  "        }",
                  "    }",
                  "    obj = nullClear(obj);",
                  "    ",
                  "    return obj;",
                  "}",
                  "",
                  "//generate pki string of object",
                  "function generateRequestString(obj) {",
                  "    var isArray = Array.isArray(obj);",
                  "    ",
                  "    var requestString = '[';",
                  "    for (var i in obj) {",
                  "        var val = obj[i];",
                  "        if (!isArray) {",
                  "            requestString += i + '=';",
                  "        }",
                  "        if (typeof val === 'object') {",
                  "            requestString += generateRequestString(val);",
                  "        } else {",
                  "            requestString += val;",
                  "        }",
                  "        requestString += isArray ? ', ' : ',';",
                  "    }",
                  "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
                  "    requestString += ']';",
                  "    return requestString;",
                  "    ",
                  "}    ",
                  "",
                  "//generate authorization string",
                  "function generateAuthorizationString(obj) {",
                  "    var requestString = generateRequestString(obj);",
                  "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
                  "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
                  "    console.log(requestString);",
                  "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
                  "    return authorization",
                  "}",
                  "",
                  "var requestModel = initializeCheckout;",
                  "requestModel = jsonToObj(request.data, requestModel);",
                  "var authorization = generateAuthorizationString(requestModel)",
                  "postman.setGlobalVariable(\"authorization\", authorization);",
                  ""
                ]
              }
            }
          ],
          "request": {
            "url": "{{baseUrl}}/payment/iyzipos/checkoutform/initialize/auth/ecom",
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{authorization}}",
                "description": ""
              },
              {
                "key": "x-iyzi-rnd",
                "value": "123456789",
                "description": ""
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "description": ""
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.2\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"cardUserKey\": \"card user key\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"enabledInstallments\": [\n        1,\n        2,\n        3,\n        6,\n        9,\n        12\n    ],\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"name\": \"Usb\",\n            \"price\": \"0.2\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
            },
            "description": "https://sandbox-api.iyzipay.com/payment/iyzipos/checkoutform/initialize/auth/ecom"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "8a4701bb-0623-676c-be6a-ee5dfb5c72d6",
      "name": "Heath Check",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/test",
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "description": "https://sandbox-api.iyzipay.com/payment/test"
      },
      "response": []
    },
    {
      "_postman_id": "fcb7f4ed-d083-694a-c8ca-599a2efd707b",
      "name": "Retrieve Bin",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = environment.apiKey;",
              "var secretKey = environment.secretKey;",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var binNumber = {",
              "    locale:null,",
              "    conversationId:null,",
              "    binNumber:null,",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = binNumber;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/bin/check",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"binNumber\":\"542119\",\n  \"conversationId\": \"123456789\"\n}"
        },
        "description": "https://sandbox-api.iyzipay.com//payment/bin/check"
      },
      "response": []
    },
    {
      "_postman_id": "a5564252-ee7f-0ee6-b432-fd378eecc0e1",
      "name": "Retrieve Installment",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = environment.apiKey;",
              "var secretKey = environment.secretKey;",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var installment = {",
              "    locale:null,",
              "    conversationId:null,",
              "    binNumber:null,",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = installment;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/iyzipos/installment",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"price\":\"100.0\",\n  \"binNumber\":\"542119\"\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/installment-service"
      },
      "response": []
    },
    {
      "_postman_id": "499f5924-1853-adde-2522-201fcc49c1e9",
      "name": "Create Payment",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true",
              "",
              "",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var paymentCard = {",
              "    cardHolderName: null,",
              "    cardNumber: null,",
              "    expireYear: null,",
              "    expireMonth: null,",
              "    cvc: null,",
              "    registerCard: null,",
              "    cardAlias: null,",
              "    cardToken: null,",
              "    cardUserKey: null",
              "};",
              "",
              "var buyer = {",
              "    id: null,",
              "    name: null,",
              "    surname: null,",
              "    identityNumber: null,",
              "    email: null,",
              "    gsmNumber: null,",
              "    registrationDate: null,",
              "    lastLoginDate: null,",
              "    registrationAddress: null,",
              "    city: null,",
              "    country: null,",
              "    zipCode: null,",
              "    ip: null",
              "};",
              "",
              "var shippingAddress = {",
              "    address: null,",
              "    zipCode: null,",
              "    contactName: null,",
              "    city: null,",
              "    country: null",
              "};",
              "",
              "var billingAddress = {",
              "    address: null,",
              "    zipCode: null,",
              "    contactName: null,",
              "    city: null,",
              "    country: null",
              "};",
              "",
              "var basketItem = {",
              "    id: null,",
              "    price: null,",
              "    name: null,",
              "    category1: null,",
              "    category2: null,",
              "    itemType: null,",
              "    subMerchantKey:null,",
              "    subMerchantPrice: null",
              "};",
              "",
              "function BasketItem() {",
              "    this.id= null;",
              "    this.price= null;",
              "    this.name=null;",
              "    this.category1= null;",
              "    this.category2= null;",
              "    this.itemType=null,",
              "    this.subMerchantKey=null;",
              "    this.subMerchantPrice= null;",
              "}",
              "",
              "var basketItems = [];",
              "",
              "var payment = {",
              "    locale: null,",
              "    conversationId: null,",
              "    price: null,",
              "    paidPrice: null,",
              "    installment: null,",
              "    paymentChannel: null,",
              "    basketId: null,",
              "    paymentGroup: null,",
              "    paymentCard: paymentCard,",
              "    buyer: buyer,",
              "    shippingAddress: shippingAddress,",
              "    billingAddress: billingAddress,",
              "    basketItems: basketItems,",
              "    currency: null,",
              "    ",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = payment;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/auth",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.1\",\n    \"currency\": \"TRY\",\n    \"installment\": 1,\n    \"paymentChannel\": \"WEB\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"paymentCard\": {\n        \"cardHolderName\": \"John Doe\",\n        \"cardNumber\": \"5528790000000008\",\n        \"expireYear\": \"2030\",\n        \"expireMonth\": \"12\",\n        \"cvc\": \"123\",\n        \"registerCard\": 0\n    },\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/auth"
      },
      "response": []
    },
    {
      "_postman_id": "8ec84bdd-c9de-8ea2-a71f-f856438c84c4",
      "name": "Create Threeds Payment",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var createThreeds = {",
              "    locale:null,",
              "    conversationId:null,",
              "    paymentId: null,",
              "    ConversationData:null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = createThreeds;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/detail",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"paymentId\": \"1\",\n  \"paymentConversationId\":\"123456789\"\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/auth-with-3d"
      },
      "response": []
    },
    {
      "_postman_id": "3b92644d-1c50-58c3-ecc1-d0e455c7ab47",
      "name": "Initialize Threeds Payment",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true",
              "",
              "",
              "",
              ""
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var paymentCard = {",
              "    cardHolderName: null,",
              "    cardNumber: null,",
              "    expireYear: null,",
              "    expireMonth: null,",
              "    cvc: null,",
              "    registerCard: null,",
              "    cardAlias: null,",
              "    cardToken: null,",
              "    cardUserKey: null",
              "};",
              "",
              "var buyer = {",
              "    id: null,",
              "    name: null,",
              "    surname: null,",
              "    identityNumber: null,",
              "    email: null,",
              "    gsmNumber: null,",
              "    registrationDate: null,",
              "    lastLoginDate: null,",
              "    registrationAddress: null,",
              "    city: null,",
              "    country: null,",
              "    zipCode: null,",
              "    ip: null",
              "};",
              "",
              "var shippingAddress = {",
              "    address: null,",
              "    zipCode: null,",
              "    contactName: null,",
              "    city: null,",
              "    country: null",
              "};",
              "",
              "var billingAddress = {",
              "    address: null,",
              "    zipCode: null,",
              "    contactName: null,",
              "    city: null,",
              "    country: null",
              "};",
              "",
              "var basketItem = {",
              "    id: null,",
              "    price: null,",
              "    name: null,",
              "    category1: null,",
              "    category2: null,",
              "    itemType: null,",
              "    subMerchantKey:null,",
              "    subMerchantPrice: null",
              "};",
              "",
              "function BasketItem() {",
              "    this.id= null;",
              "    this.price= null;",
              "    this.name=null;",
              "    this.category1= null;",
              "    this.category2= null;",
              "    this.itemType=null,",
              "    this.subMerchantKey=null;",
              "    this.subMerchantPrice= null;",
              "}",
              "",
              "var basketItems = [];",
              "",
              "var payment = {",
              "    locale: null,",
              "    conversationId: null,",
              "    price: null,",
              "    paidPrice: null,",
              "    installment: null,",
              "    paymentChannel: null,",
              "    basketId: null,",
              "    paymentGroup: null,",
              "    paymentCard: paymentCard,",
              "    buyer: buyer,",
              "    shippingAddress: shippingAddress,",
              "    billingAddress: billingAddress,",
              "    basketItems: basketItems,",
              "    currency: null,",
              "    ",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = payment;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/3dsecure/initialize",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n    \"locale\": \"tr\",\n    \"conversationId\": \"123456789\",\n    \"price\": \"1.0\",\n    \"paidPrice\": \"1.2\",\n    \"currency\": \"TRY\",\n    \"installment\": 1,\n    \"paymentChannel\": \"WEB\",\n    \"basketId\": \"B67832\",\n    \"paymentGroup\": \"PRODUCT\",\n    \"callbackUrl\": \"https://www.merchant.com/callback\",\n    \"paymentCard\": {\n        \"cardHolderName\": \"John Doe\",\n        \"cardNumber\": \"5528790000000008\",\n        \"expireYear\": \"2030\",\n        \"expireMonth\": \"12\",\n        \"cvc\": \"123\"\n    },\n    \"buyer\": {\n        \"id\": \"BY789\",\n        \"name\": \"John\",\n        \"surname\": \"Doe\",\n        \"identityNumber\": \"74300864791\",\n        \"email\": \"email@email.com\",\n        \"gsmNumber\": \"+905350000000\",\n        \"registrationDate\": \"2013-04-21 15:12:09\",\n        \"lastLoginDate\": \"2015-10-05 12:43:35\",\n        \"registrationAddress\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\",\n        \"zipCode\": \"34732\",\n        \"ip\": \"85.34.78.112\"\n    },\n    \"shippingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"billingAddress\": {\n        \"address\": \"Nidakule Göztepe, Merdivenköy Mah. Bora Sok. No:1\",\n        \"zipCode\": \"34742\",\n        \"contactName\": \"Jane Doe\",\n        \"city\": \"Istanbul\",\n        \"country\": \"Turkey\"\n    },\n    \"basketItems\": [\n        {\n            \"id\": \"BI101\",\n            \"price\": \"0.3\",\n            \"name\": \"Binocular\",\n            \"category1\": \"Collectibles\",\n            \"category2\": \"Accessories\",\n            \"itemType\": \"PHYSICAL\"\n        },\n        {\n            \"id\": \"BI102\",\n            \"price\": \"0.5\",\n            \"name\": \"Game code\",\n            \"category1\": \"Game\",\n            \"category2\": \"Online Game Items\",\n            \"itemType\": \"VIRTUAL\"\n        },\n        {\n            \"id\": \"BI103\",\n            \"price\": \"0.2\",\n            \"name\": \"Usb\",\n            \"category1\": \"Electronics\",\n            \"category2\": \"Usb / Cable\",\n            \"itemType\": \"PHYSICAL\"\n        }\n    ]\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/auth-with-3d"
      },
      "response": []
    },
    {
      "_postman_id": "e7db8720-7e14-d6f7-8239-738bf3705182",
      "name": "Cancel",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var cancel = {",
              "    locale: null,",
              "    conversationId: null,",
              "    paymentId: null,",
              "    ip: null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = cancel;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/cancel",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"paymentId\":\"1\",\n  \"ip\":\"85.34.78.112\"\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/cancel"
      },
      "response": []
    },
    {
      "_postman_id": "64f9ba68-ca4c-d0c6-7e8b-829ed87437db",
      "name": "Refund",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var refund = {",
              "    locale: null,",
              "    conversationId: null,",
              "    paymentTransactionId: null,",
              "    price: null,",
              "    ip: null,",
              "    currency: null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = refund;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/refund",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"paymentTransactionId\":\"1\",\n  \"price\":\"1.0\",\n  \"currency\":\"TRY\",\n  \"ip\":\"85.34.78.112\"\n}"
        },
        "description": "Dev Page : https://dev.iyzipay.com/en/api/refund"
      },
      "response": []
    },
    {
      "_postman_id": "bd795a02-3b89-d2cb-51a9-5e33d153f141",
      "name": "Retrieve Payment Result",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var paymentResult = {",
              "    locale:null,",
              "    conversationId:null,",
              "    paymentId: null,",
              "    paymentConversationId:null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = paymentResult;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/payment/detail",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"paymentId\": \"1\",\n  \"paymentConversationId\":\"123456789\"\n}"
        },
        "description": ""
      },
      "response": []
    },
    {
      "_postman_id": "127d5911-3d9c-9690-a9bc-8b5471106445",
      "name": "Retrieve Payout Completed Transfer List",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var payout = {",
              "    locale: null,",
              "    conversationId: null,",
              "    date: null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = payout;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/reporting/settlement/payoutcompleted",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"date\": \"2016-01-22 19:13:00\"\n}"
        },
        "description": "https://sandbox-api.iyzipay.com/reporting/settlement/payoutcompleted"
      },
      "response": []
    },
    {
      "_postman_id": "622a150b-955e-369e-ed6e-3c62dabb05bf",
      "name": "Retrieve Bounced Bank Transfer List",
      "event": [
        {
          "listen": "test",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var jsonData = JSON.parse(responseBody);",
              "tests[\"response status \" + jsonData.status ] = jsonData.status === \"success\"",
              "",
              "tests[\"pki string: \" + globals.pkiString ] = true",
              "tests[\"authorization: \" + globals.authorization ] = true",
              "tests[\"json: \" + request.data ] = true"
            ]
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "type": "text/javascript",
            "exec": [
              "var apiKey = globals.apiKey",
              "var secretKey = globals.secretKey",
              "",
              "//import crypto-js sha1",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/sha1.min.js\",",
              "function()",
              "{});",
              "//import crypto-js base64",
              "$.getScript(\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/enc-base64.min.js\",",
              "function()",
              "{});",
              "",
              "var payout = {",
              "    locale: null,",
              "    conversationId: null,",
              "    date: null",
              "};",
              "",
              "function nullClear(obj){",
              "    for (var member in obj) {",
              "        ",
              "        if(obj[member] === null) {    ",
              "            delete obj[member];",
              "        }",
              "        else if (typeof obj[member] === 'object'){",
              "            obj[member]=nullClear(obj[member]);",
              "            if(Object.keys(obj[member]).length===0){",
              "                delete obj[member];",
              "            }",
              "        }",
              "    }",
              "    ",
              "    return obj;",
              "}",
              "",
              "//Set json string to model",
              "function jsonToObj(jsonString, obj) {",
              "    var parsedJsonString = JSON.parse(jsonString)",
              "    for(var key in parsedJsonString) {",
              "        if(parsedJsonString.hasOwnProperty(key)) {",
              "            if (typeof parsedJsonString[key] === 'object') {",
              "                if(Array.isArray(parsedJsonString[key])){",
              "                    for(var i = 0; i < parsedJsonString[key].length; i++){",
              "                        if(key ==\"basketItems\"){",
              "                            obj[key].push(new BasketItem());",
              "                            obj[key][i]=jsonToObj(JSON.stringify(parsedJsonString[key][i]), obj[key][i])",
              "                        }else {",
              "                            obj[key][i] = parsedJsonString[key][i];",
              "                        }",
              "                    }",
              "                }else{",
              "               obj[key] = jsonToObj(JSON.stringify(parsedJsonString[key]), obj[key])",
              "                }",
              "            }else{",
              "                obj[key] = parsedJsonString[key];",
              "            }",
              "            ",
              "        }",
              "    }",
              "    obj = nullClear(obj);",
              "    ",
              "    return obj;",
              "}",
              "",
              "//generate pki string of object",
              "function generateRequestString(obj) {",
              "    var isArray = Array.isArray(obj);",
              "    ",
              "    var requestString = '[';",
              "    for (var i in obj) {",
              "        var val = obj[i];",
              "        if (!isArray) {",
              "            requestString += i + '=';",
              "        }",
              "        if (typeof val === 'object') {",
              "            requestString += generateRequestString(val);",
              "        } else {",
              "            requestString += val;",
              "        }",
              "        requestString += isArray ? ', ' : ',';",
              "    }",
              "    requestString = requestString.slice(0, (isArray ? -2 : -1));",
              "    requestString += ']';",
              "    return requestString;",
              "    ",
              "}    ",
              "",
              "//generate authorization string",
              "function generateAuthorizationString(obj) {",
              "    var requestString = generateRequestString(obj);",
              "    var hashSha1 =  CryptoJS.SHA1(apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    var hashInBase64 = CryptoJS.enc.Base64.stringify(hashSha1);",
              "    var authorization = \"IYZWS\"+\" \"+apiKey+\":\"+hashInBase64;",
              "    console.log(requestString);",
              "    postman.setGlobalVariable(\"pkiString\", apiKey+request.headers[\"x-iyzi-rnd\"]+secretKey+requestString);",
              "    return authorization",
              "}",
              "",
              "var requestModel = payout;",
              "requestModel = jsonToObj(request.data, requestModel);",
              "var authorization = generateAuthorizationString(requestModel)",
              "postman.setGlobalVariable(\"authorization\", authorization);",
              ""
            ]
          }
        }
      ],
      "request": {
        "url": "{{baseUrl}}/reporting/settlement/payoutcompleted",
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "{{authorization}}",
            "description": ""
          },
          {
            "key": "x-iyzi-rnd",
            "value": "123456789",
            "description": ""
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "description": ""
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"locale\": \"tr\",\n  \"conversationId\": \"123456789\",\n  \"date\": \"2016-01-22 19:13:00\"\n}"
        },
        "description": "https://sandbox-api.iyzipay.com/reporting/settlement/bounced"
      },
      "response": []
    }
  ]
}